<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AliExpress Bookmarklet â€” TN CRM</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; color: #fff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; min-height: 100vh; display: flex; align-items: center; justify-content: center; }
        .container { max-width: 560px; width: 100%; padding: 40px 24px; }
        h1 { font-size: 24px; font-weight: 600; margin-bottom: 8px; }
        .subtitle { color: #888; font-size: 14px; margin-bottom: 32px; line-height: 1.5; }
        .bookmarklet-link {
            display: inline-flex; align-items: center; gap: 8px;
            background: #111; border: 1px solid #333; border-radius: 10px;
            padding: 14px 24px; color: #fff; text-decoration: none;
            font-size: 14px; font-weight: 500; cursor: grab;
            transition: border-color 0.15s, background 0.15s;
        }
        .bookmarklet-link:hover { border-color: #555; background: #1a1a1a; }
        .bookmarklet-link:active { cursor: grabbing; }
        .icon { font-size: 18px; }
        .steps { margin-top: 40px; }
        .steps h2 { font-size: 14px; color: #888; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 16px; }
        .step { display: flex; gap: 12px; margin-bottom: 16px; }
        .step-num { width: 24px; height: 24px; border-radius: 50%; background: #111; border: 1px solid #333; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #888; flex-shrink: 0; margin-top: 1px; }
        .step-text { color: #ccc; font-size: 14px; line-height: 1.5; }
        .step-text code { background: #111; border: 1px solid #222; padding: 2px 6px; border-radius: 4px; font-size: 13px; color: #10b981; }
    </style>
</head>
<body>
    <div class="container">
        <h1>AliExpress â†’ TN CRM</h1>
        <p class="subtitle">PrzeciÄ…gnij poniÅ¼szy przycisk na pasek zakÅ‚adek. Kliknij go na stronie produktu AliExpress, aby skopiowaÄ‡ dane produktu do schowka.</p>

        <a class="bookmarklet-link" href="javascript:void(function(){try{var rp=window.runParams&&window.runParams.data;var images=[];if(rp&&rp.imageModule&&rp.imageModule.imagePathList){images=rp.imageModule.imagePathList.map(function(u){return u.startsWith('//')?'https:'+u:u;});}if(!images.length){var scripts=document.querySelectorAll('script');for(var i=0;i<scripts.length;i++){var t=scripts[i].textContent;var m=t.match(/imagePathList.*?(\[.*?\])/s);if(m){try{var arr=JSON.parse(m[1]);if(arr.length){images=arr.map(function(u){return typeof u==='string'?(u.startsWith('//')?'https:'+u:u):'';}).filter(Boolean);break;}}catch(e){}}}}if(!images.length){var allImgs=document.querySelectorAll('img[src*=alicdn]');var seen={};allImgs.forEach(function(el){var s=(el.src||'').split('?')[0];if(s&&!seen[s]&&s.indexOf('_50x50')===-1&&s.indexOf('icon')===-1&&el.naturalWidth>100){seen[s]=1;images.push(s);}});}var n='';if(rp&&rp.titleModule){n=rp.titleModule.subject||rp.titleModule.title||'';}if(!n)n=document.title.replace(/\s*[-|].*$/,'').trim();var p='';if(rp&&rp.priceModule){var pm=rp.priceModule;p=(pm.formatedActivityPrice||pm.formatedPrice||pm.minPrice||'').toString().replace(/[^0-9.,]/g,'');}if(!p){var pe=document.querySelector('[class*=Price] span')||document.querySelector('.uniform-banner-box-price');if(pe)p=pe.textContent.replace(/[^0-9.,]/g,'');}var rt=null;if(rp&&rp.feedbackModule&&rp.feedbackModule.averageStar){rt=parseFloat(rp.feedbackModule.averageStar);if(isNaN(rt))rt=null;}if(rt===null){var re=document.querySelector('[class*=rating] [class*=text]')||document.querySelector('[class*=middle--rating]');if(re){var rv=parseFloat(re.textContent);if(!isNaN(rv))rt=rv;}}var rc=null;if(rp&&rp.feedbackModule&&rp.feedbackModule.totalValidNum!=null){rc=parseInt(rp.feedbackModule.totalValidNum);if(isNaN(rc))rc=null;}if(rc===null){var rce=document.querySelector('[class*=review] [class*=count]')||document.querySelector('[class*=rating--count]');if(rce){var rci=parseInt(rce.textContent.replace(/[^0-9]/g,''));if(!isNaN(rci))rc=rci;}}var d={name:n,images:images,price:p,source_url:location.href,rating:rt,review_count:rc};navigator.clipboard.writeText(JSON.stringify(d)).then(function(){var b=document.createElement('div');b.style.cssText='position:fixed;top:20px;right:20px;z-index:999999;background:%2310b981;color:%23fff;padding:12px 20px;border-radius:8px;font:14px/1 sans-serif;box-shadow:0 4px 12px rgba(0,0,0,.3)';b.textContent='Skopiowano '+images.length+' zdjÄ™Ä‡ do schowka!';document.body.appendChild(b);setTimeout(function(){b.remove()},2500)});}catch(e){alert('BÅ‚Ä…d: '+e.message)}}());">
            <span class="icon">ðŸ“¦</span>
            AliExpress â†’ Schowek
        </a>

        <div class="steps">
            <h2>Jak uÅ¼ywaÄ‡</h2>
            <div class="step">
                <div class="step-num">1</div>
                <div class="step-text">PrzeciÄ…gnij przycisk powyÅ¼ej na <strong>pasek zakÅ‚adek</strong> w przeglÄ…darce</div>
            </div>
            <div class="step">
                <div class="step-num">2</div>
                <div class="step-text">OtwÃ³rz stronÄ™ produktu na <strong>AliExpress</strong></div>
            </div>
            <div class="step">
                <div class="step-num">3</div>
                <div class="step-text">Kliknij bookmarklet â€” dane produktu zostanÄ… <strong>skopiowane do schowka</strong></div>
            </div>
            <div class="step">
                <div class="step-num">4</div>
                <div class="step-text">W panelu workflow kliknij <code>Wklej z AliExpress</code> w formularzu dodawania produktu</div>
            </div>
        </div>
    </div>
</body>
</html>
